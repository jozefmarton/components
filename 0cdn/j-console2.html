<style>.ui-console2{position:fixed;left:0;right:0;bottom:0;z-index:32;border:5px solid rgba(100,100,100,0.1);border-bottom:0;display:none}.ui-console2-visible{display:block}.ui-console2-tabs{height:26px;padding:0;background-color:rgba(230,230,230,0.8);border-radius:var(--radius) var(--radius) 0 0}.ui-console2-tabs div>span{float:left;min-width:24px;height:26px;line-height:26px;text-align:center;background-color:#FFF;color:#000;font-size:12px;padding:0 7px}.ui-console2-tabs span i{margin-right:5px}.ui-console2-tabs>div span:first-child{border-radius:var(--radius) 0 0 0}.ui-console2-tabs>div{float:left}.ui-console2-tabs>span{cursor:pointer;font-size:12px}.ui-console2-output{background-color:#FFF;overflow:auto;overflow-scrolling:touch}.ui-console2-tabs>.ui-console2-close{color:red !important;float:right;border-right:0;margin:2px 0 0 3px;height:20px;line-height:20px;padding:0 5px;background:transparent}.ui-console2-tabs>.ui-console2-clear{color:#777;float:right;border-right:0;border-right:1px solid #D0D0D0;margin:2px 0 0 3px;height:20px;line-height:20px;padding:0 5px;background:transparent}.ui-console2-message{height:28px;font-size:12px;border-bottom:1px solid #F0F0F0;line-height:28px;padding:0 5px 0 6px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin-right:30px}.ui-console2-message i{width:12px;margin-right:7px;text-align:center}.ui-console2-error{color:#E73323}.ui-console2-warning{color:#E8A826}.ui-console2-success{color:#8CC152}.ui-console2-info{color:#3BAFDA}.ui-console2-body{overflow:hidden}.ui-dark .ui-console2{border:5px solid rgba(0,0,0,0.8)}.ui-dark .ui-console2-tabs{background-color:rgba(0,0,0,0.8)}.ui-dark .ui-console2-output{background-color:#222}.ui-dark .ui-console2-tabs>.ui-console2-clear{color:#888;border-right:1px solid #202020}.ui-dark .ui-console2-message{border-bottom-color:#303030}.ui-dark .ui-console2-tabs>div span{background-color:#222;color:#FFF !important}</style>
<script>COMPONENT('console2','icon:ti ti-script;name:Console;clear:1;autoclose:1;autoshow:1;height:150',function(self,config,cls){var cls2='.'+cls,elogs,clearbtn,ready=false;self.singleton();self.readonly();self.make=function(){self.aclass(cls+' hidden');self.append(('<div class="{0}-body"><div class="{0}-tabs"><span class="{0}-close"><i class="ti ti-times"></i></span>'+(config.clear?'<span class="{0}-clear hidden"><i class="ti ti-trash"></i></span>':'')+'<div><span><i class="{2}"></i>{1}</span></div></div><div class="{0}-output" style="height:{3}px"></div></div>').format(cls,config.name,config.icon,config.height));elogs=self.find(cls2+'-output');clearbtn=self.find(cls2+'-clear');self.event('click',cls2+'-clear',function(){SET(self.makepath(config.datasource),[]);config.autoclose&&self.set(false);if(typeof(config.clear)==='string')self.EXEC(config.clear)});self.event('click',cls2+'-close',function(){self.set(false)});self.on('resize2 + resize',self.resize);self.resize()};self.resize=function(){elogs.css('width',WW+30)};self.rebind=function(path,value){let arr=(M.is20?path:value)||EMPTYARRAY;let builder=[];for(let item of arr){let type=item.type||'info';let icon=type==='error'?'bug':type==='warning'?type:type==='success'?'check-circle':'info-circle';builder.push('<div class="{0}-message {0}-{2}"><i class="ti ti-{3}"></i>{1}</div>'.format(cls,item.body||item.html,type,icon))}elogs.html(builder.join(''));elogs[0].scrollTop=0;clearbtn.tclass('hidden',!builder.length);if(config.autoshow&&!self.get()&&builder.length)self.set(true)};self.configure=function(key,value){if(key==='datasource')self.datasource(value,self.rebind)};self.setter=function(value){if(value){self.rclass('hidden');self.aclass(cls+'-visible',100)}else{self.rclass('hidden',100);self.rclass(cls+'-visible')}}});</script>